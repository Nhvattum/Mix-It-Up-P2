<!-- <% console.log(ingredient) %> -->
<h3 class="newColor">Ingredients:</h3>


<input type="text" id="ingredientSearch" onkeyup="search()" placeholder="Search for Ingredients">


<ul id="allIngredients">
    <% ingredient.forEach(function(ingredient) { %>
        <li class="eachIngredient">
            <h3> <%= ingredient %> </h3>
            <img class="ingredientImages" src="https://www.thecocktaildb.com/images/ingredients/<%=ingredient%>-small.png">
            
            <form method="POST" action="/ingredients">
                <label for="pantryName">Choose a Pantry:</label>
                <select name="pantryName" class="ingredientPadding">
                    <% pantry.forEach(function(pantry) { %>
                        <option value="<%= pantry.id %>"> <%= pantry.name.toUpperCase() %> </option>
                    <% }) %>
                </select></br></br>
                <input hidden type="text" name="ingredientName" value="<%= ingredient %>">
                <button class="btn btn-primary" type="submit">Add to Pantry</button>
            </form>
        </li>    
    <% }) %>
</ul>

<script>
    function search() {
        let h3;
        let i;
        let txtValue;
        let ingredientSearch = document.getElementById("ingredientSearch");
        let filter = ingredientSearch.value.toUpperCase();
        let allIngredients = document.getElementById("allIngredients");
        let li = allIngredients.getElementsByTagName(".li");

        for (i = 0; i < li.length; i++) {
            h3 = li[i].getElementsByTagName("h3")[0];
            console.log("ðŸŽ²", li[0])
            txtValue = h3.textContent || h3.innerText;
            if (txtValue.toUpperCase().indexOf(filter) > -1) {
                li[i].style.display = "";
            } else {
                li[i].style.display = "none";
            }
        }
    }
</script>